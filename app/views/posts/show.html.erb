<p id="notice"><%= notice %></p>

<h3><%= @post.name %></h3>
<p><i><%= link_to "by #{@post.user.full_name}", user_path(id: @post.user.id) %></i></p>
<p><%= @post.content %></p>
<%= link_to 'Edit', edit_post_path(@post) %>
<%= link_to 'Destroy', @post, method: :delete, data: { confirm: 'Are you sure?' } %>
<%= link_to 'Back', posts_path %>

<% if @post.comments.count > 0 %>
<hr>
<h5><%= "comments (#{@post.comments.count})" %></h5>
<ul>
  <% @post.comments.each do |comment|%>
    <li>
      <%= comment.content %> <i><%= "by #{comment.user.full_name}" %></i>
    </li>
  <% end %>
</ul>
<% end %>

<%= form_for(@comment) do |f| %>
  <% if @comment.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>

      <ul>
      <% @comment.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <%= f.hidden_field :user_id %>
  <%= f.hidden_field :post_id %>
  <div class="form-group">
    <%= f.label :content %><br>
    <%= f.text_area :content, class: 'form-control' %>
  </div>
  <div class="actions">
    <%= f.submit "Add Comment", class: "btn btn-success pull-right" %>
  </div>

<% end %>
